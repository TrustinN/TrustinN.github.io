(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{6694:(e,t,n)=>{Promise.resolve().then(n.bind(n,9471))},9730:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2115),i=n(2784),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},s=function(e){return"Typesetting failed: ".concat(void 0!==e.message?e.message:JSON.stringify(e))};let l=function(e){function t(){var e;"every"===b&&C&&"post"===w&&null!==g.current&&(g.current.style.visibility=null!=(e=null==(e=x.style)?void 0:e.visibility)?e:"visible"),k.current||("first"===b&&null!==g.current&&(g.current.style.visibility="visible"),c&&c(),k.current=!0),d&&d(),A.current=!1}var n=e.inline,l=void 0!==n&&n,n=e.hideUntilTypeset,c=e.onInitTypeset,d=e.onTypeset,h=e.text,u=e.dynamic,f=e.typesettingOptions,p=e.renderMode,v=e.children,x=a(e,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),m=(0,r.useRef)(""),g=(0,r.useRef)(null),y=(0,r.useContext)(i.k),b=null!=n?n:null==y?void 0:y.hideUntilTypeset,w=null!=p?p:null==y?void 0:y.renderMode,j=null!=f?f:null==y?void 0:y.typesettingOptions,C=!1!==u&&(u||!1),k=(0,r.useRef)(!1),A=(0,r.useRef)(!1);return!A.current&&null!==g.current&&C&&"every"===b&&"post"===w&&(g.current.style.visibility="hidden"),("undefined"!=typeof window?r.useLayoutEffect:r.useEffect)(function(){if((C||!k.current)&&null!==g.current){if(!y)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if("pre"===w){if(!("string"==typeof h&&0<h.length))throw Error("Render mode 'pre' requires text prop to be set and non-empty, which was currently \"".concat(h,'"'));if(!f||!f.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(2===y.version)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}"post"!==w&&h===m.current||A.current||(A.current=!0,3===y.version?y.promise.then(function(e){var n;"pre"===w?(n=function(n){m.current=h,e.startup.document.clear(),e.startup.document.updateDocument(),null!==g.current&&(g.current.innerHTML=n.outerHTML),t()},f.fn.endsWith("Promise")?e.startup.promise.then(function(){return e[j.fn](h,o(o({},(null==j?void 0:j.options)||{}),{display:!l}))}).then(n).catch(function(e){throw t(),Error(s(e))}):e.startup.promise.then(function(){n(e[j.fn](h,o(o({},(null==j?void 0:j.options)||{}),{display:!l})))}).catch(function(e){throw t(),Error(s(e))})):e.startup.promise.then(function(){return e.typesetClear([g.current]),e.typesetPromise([g.current])}).then(t).catch(function(e){throw t(),Error(s(e))})}).catch(function(e){throw t(),Error(s(e))}):y.promise.then(function(e){e.Hub.Queue(["Typeset",e.Hub,g.current]),e.Hub.Queue(t)}).catch(function(e){throw t(),Error(s(e))}))}}),r.createElement("span",o({},x,{style:o(o({display:l?"inline":"block"},x.style),{visibility:b?"hidden":null==(e=x.style)?void 0:e.visibility}),ref:g}),v)}},2784:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,k:()=>s});var r,i,o=n(2115),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=(0,o.createContext)(void 0),l="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",c="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js";let d=function(e){var t=e.config,n=e.version,n=void 0===n?3:n,d=e.src,d=void 0===d?2===n?l:c:d,h=e.onStartup,u=e.onLoad,f=e.asyncLoad,p=void 0!==f&&f,v=e.onError,f=e.typesettingOptions,x=e.renderMode,x=void 0===x?"post":x,m=e.hideUntilTypeset,e=e.children,g=(0,o.useContext)(s);if(void 0!==(null==g?void 0:g.version)&&(null==g?void 0:g.version)!==n)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(2===n&&void 0!==i||3===n&&void 0!==r)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var y=(0,o.useRef)(g),g=(0,o.useRef)((null==g?void 0:g.version)||null);if(null===g.current)g.current=n;else if(g.current!==n)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var b=d||(2===n?l:c);function w(e,n){t&&(window.MathJax=t);var r=document.createElement("script");r.type="text/javascript",r.src=b,r.async=p,r.addEventListener("load",function(){var t=window.MathJax;h&&h(t),e(t),u&&u()}),r.addEventListener("error",function(e){return n(e)}),document.getElementsByTagName("head")[0].appendChild(r)}return void 0===y.current&&(g={typesettingOptions:f,renderMode:x,hideUntilTypeset:m},2===n?void 0===r&&("undefined"!=typeof window?(r=new Promise(w)).catch(function(e){if(!v)throw Error("Failed to download MathJax version 2 from '".concat(b,"' due to: ").concat(JSON.stringify(e)));v(e)}):(r=Promise.reject()).catch(function(e){})):void 0===i&&("undefined"!=typeof window?(i=new Promise(w)).catch(function(e){if(!v)throw Error("Failed to download MathJax version 3 from '".concat(b,"' due to: ").concat(e));v(e)}):(i=Promise.reject()).catch(function(e){})),y.current=a(a({},g),2===n?{version:2,promise:r}:{version:3,promise:i})),o.createElement(s.Provider,{value:y.current},e)}},5565:(e,t,n)=>{"use strict";n.d(t,{default:()=>i.a});var r=n(4146),i=n.n(r)},3018:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else if(47===n)break;else n=47;if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r,i="",o=!1,a=arguments.length-1;a>=-1&&!o;a--)a>=0?r=arguments[a]:(void 0===e&&(e=""),r=e),t(r),0!==r.length&&(i=r+"/"+i,o=47===r.charCodeAt(0));return(i=n(i,!o),o)?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return(0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,d=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(s+h))return n.slice(s+h+1);if(0===h)return n.slice(s+h)}else a>c&&(47===e.charCodeAt(i+h)?d=h:0===h&&(d=0));break}var u=e.charCodeAt(i+h);if(u!==n.charCodeAt(s+h))break;47===u&&(d=h)}var f="";for(h=i+d+1;h<=o;++h)(h===o||47===e.charCodeAt(h))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+d):(s+=d,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return -1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else -1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else -1===o&&(a=!1,o=r+1);return -1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!o){r=s+1;break}continue}-1===i&&(o=!1,i=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1)}return -1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){t(e);var n,r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,s=0,l=-1,c=!0,d=e.length-1,h=0;d>=n;--d){if(47===(i=e.charCodeAt(d))){if(!c){s=d+1;break}continue}-1===l&&(c=!1,l=d+1),46===i?-1===a?a=d:1!==h&&(h=1):-1!==a&&(h=-1)}return -1===a||-1===l||0===h||1===h&&a===l-1&&a===s+1?-1!==l&&(0===s&&o?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(s,l)):(0===s&&o?(r.name=e.slice(1,a),r.base=e.slice(1,l)):(r.name=e.slice(s,a),r.base=e.slice(s,l)),r.ext=e.slice(a,l)),s>0?r.dir=e.slice(0,s-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,r),a=!1}finally{a&&delete n[e]}return o.exports}r.ab="//";var i=r(114);e.exports=i}()},4146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},getImageProps:function(){return s}});let r=n(306),i=n(666),o=n(7970),a=r._(n(5514));function s(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let l=o.Image},9471:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(5155),i=n(3018),o=n.n(i),a=n(5565),s=n(8989),l=n(9727),c=n(2723),d=n(1109),h=n(9730);let u=o().join("/projects/ImageProcessing/Project6/","media"),f=[{id:"Tracking 2D Points",content:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Tracking 2D Points"}),(0,r.jsx)("p",{children:"To add objects to a video that seem 3D, we need to establish a correspondence between the 2D points in the video with their 3D points in world coordinates. To begin, we initalize a tracker for every reference point that we set in the first frame of the video:"}),(0,r.jsx)(c.V,{children:(0,r.jsx)(a.default,{src:o().join(u,"/tracked.jpg"),alt:"tracked points",width:"1440",height:"820"})}),(0,r.jsx)("p",{children:"For every point marked, we also instantiate a list of their corresponding points in 3D."})]})},{id:"Updating Tracked Points",content:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Updating Tracked Points"}),(0,r.jsx)("p",{children:"For every frame after the first, we update each tracker and check if the previous position has changed significantly. If it has, we set that tracker as invalid."}),(0,r.jsx)(c.V,{children:(0,r.jsx)(a.default,{src:o().join(u,"/update.gif"),alt:"updated points",width:"320",height:"180"})}),(0,r.jsx)("p",{children:"This means for every frame, we have a list of 2D points and their corresponding 3D points. We index into each of them by a boolean array based on if the points are valid or not."})]})},{id:"Camera Calibration",content:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Camera Calibration"}),(0,r.jsx)("p",{children:"The mapping of 3D coordinates to points in the image is done by a series of two matrices, one of which account for the rotation and translation of points in 3D space, and the other based on camera intrinsics."}),(0,r.jsxs)("p",{children:["Solving for this matrix involves solving for some matrix $M$ which minimizes the error of:"," ",(0,r.jsx)(h.A,{inline:!0,children:"\\begin{equation*} \\begin{bmatrix} mu \\\\ mv \\\\ m \\end{bmatrix} = M \\begin{bmatrix} x \\\\ y \\\\ z \\\\ 1 \\end{bmatrix} \\end{equation*}"})," ","for every point"," ",(0,r.jsx)(h.A,{inline:!0,children:"\\begin{bmatrix} x & y & z \\end{bmatrix}"})," ","and its corresponding point"," ",(0,r.jsx)(h.A,{inline:!0,children:"\\begin{bmatrix} u & v \\end{bmatrix}"})," ","in the image. The calculation is done by least squares since the system is over-determined after"," ",(0,r.jsx)(h.A,{inline:!0,children:"\\(6\\)"})," points and is very similar to the homography matrix calculation."]})]})},{id:"Adding To the Scene",content:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Adding To the Scene"}),(0,r.jsx)("p",{children:"Now that we have the matrix sending 3D points to 2D points in the image, we can build structures like a cube:"}),(0,r.jsxs)(c.V,{columns:2,children:[(0,r.jsx)(a.default,{src:o().join(u,"/axes.gif"),alt:"axes added",width:"320",height:"180"}),(0,r.jsx)(a.default,{src:o().join(u,"/cube.gif"),alt:"cube added",width:"320",height:"180"})]})]})}];function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.l,{children:(0,r.jsx)("h1",{children:"Project 6: Poor Man's Augemented Reality"})}),(0,r.jsx)(l.LN,{children:(0,r.jsxs)(l.J3,{children:[(0,r.jsx)(l.nA,{children:f.map(e=>(0,r.jsx)(l.wn,{children:(0,r.jsx)(l.n9,{id:e.id,link:e.link,children:e.content})},e.id))}),(0,r.jsx)(d.B,{ids:f.map(e=>e.id)})]})})]})}},8989:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(5155);let i=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"text-center text-black p-20 row-span-2 row-start-1 row-end-2 flex flex-col flex-nowrap justify-center items-center w-full",children:t})}},9727:(e,t,n)=>{"use strict";n.d(t,{J3:()=>h,LN:()=>u,n9:()=>l,nA:()=>c,wn:()=>d});var r=n(5155),i=n(8173),o=n.n(i),a=n(9795);let s=(e,t)=>(0,r.jsx)(o(),{href:e,className:"z-10 block absolute top-0 ".concat(t?"":"max-w-[95%]"," w-full h-full bg-black rounded-2xl text-white ").concat(t?"hover:scale-x-105 hover:translate-x-[2%]  hover:translate-y-[4%]":"hover:translate-x-[2%]"," transform ease-in-out duration-200"),children:(0,r.jsx)("div",{className:"flex flex-row w-full h-full items-center justify-end ",children:(0,r.jsx)("div",{className:"w-[8%]",children:"➧"})})}),l=e=>{let{id:t,link:n,orientation:i,className:o,children:l}=e;return(0,r.jsxs)("div",{className:"h-fit",children:[(0,r.jsx)("article",{className:(0,a.QP)("relative z-50 m-0 p-8 text-left ".concat(i?"max-h-[90%] w-full":"max-w-[85%] h-full"," ").concat(n?"":"max-w-[100%]"," h-fit rounded-2xl bg-white text-black ").concat(o)),id:t,children:l}),n?s(n,i):""]})},c=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col flex-grow max-w-[60rem]",children:t})},d=e=>{let{children:t,className:n}=e;return(0,r.jsx)("section",{className:(0,a.QP)("mb-8 mx-[5vw] rounded-[1rem] shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-fit relative bg-red ".concat(n)),children:t})},h=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-row flex-nowrap justify-center relative",children:t})},u=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"mx-[5vw]",children:t})}},2723:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,V:()=>s});var r=n(5155),i=n(2115),o=n(9795);let a=e=>{let{children:t}=e;return(0,r.jsx)("figure",{className:"text-center",children:i.Children.map(t,e=>i.isValidElement(e)&&"string"!=typeof e.type?i.cloneElement(e,{className:(0,o.QP)(e.props.className,"w-full text-center")}):e)})},s=e=>{let{columns:t=1,className:n,children:a}=e;return(0,r.jsx)("div",{className:(0,o.QP)("grid ".concat(["grid-cols-0","grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8"][t]," gap-4 items-center justify-center w-full max-w-[90%] mx-auto py-4 ").concat(n," ")),children:i.Children.map(a,e=>i.isValidElement(e)&&"string"!=typeof e.type?i.cloneElement(e,{className:(0,o.QP)(e.props.className,"w-full")}):e)})}},1109:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(5155);let i=e=>{let{ids:t,children:n}=e;return(0,r.jsx)("div",{className:"block flex-grow max-w-[25%]",children:(0,r.jsxs)("div",{className:"max-w-[80%] mx-auto h-full",children:[n,t?(0,r.jsx)("div",{className:"sticky top-[20%] p-4 pl-6 border-1 border-black border-solid rounded-[1rem] bg-black shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-auto  max-h-[60vh] overflow-y-auto ",children:(0,r.jsx)("nav",{children:t.map(e=>(0,r.jsx)("ul",{children:(0,r.jsx)("a",{className:"block scale-90 hover:text-slate-300 transition-transform  duration-100 ease-in-out text-[1.1rem] hover:scale-100 focus:scale-100 ",href:"#".concat(e),children:e})},e))})}):(0,r.jsx)("div",{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,795,970,441,517,358],()=>t(6694)),_N_E=e.O()}]);