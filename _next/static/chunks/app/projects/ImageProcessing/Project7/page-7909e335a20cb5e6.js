(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{5531:(e,t,n)=>{Promise.resolve().then(n.bind(n,8880))},9730:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(2115),o=n(2784),r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n},a=function(e){return"Typesetting failed: ".concat(void 0!==e.message?e.message:JSON.stringify(e))};let l=function(e){function t(){var e;"every"===v&&k&&"post"===b&&null!==j.current&&(j.current.style.visibility=null!=(e=null==(e=g.style)?void 0:e.visibility)?e:"visible"),C.current||("first"===v&&null!==j.current&&(j.current.style.visibility="visible"),h&&h(),C.current=!0),c&&c(),A.current=!1}var n=e.inline,l=void 0!==n&&n,n=e.hideUntilTypeset,h=e.onInitTypeset,c=e.onTypeset,d=e.text,u=e.dynamic,p=e.typesettingOptions,f=e.renderMode,m=e.children,g=s(e,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),x=(0,i.useRef)(""),j=(0,i.useRef)(null),w=(0,i.useContext)(o.k),v=null!=n?n:null==w?void 0:w.hideUntilTypeset,b=null!=f?f:null==w?void 0:w.renderMode,y=null!=p?p:null==w?void 0:w.typesettingOptions,k=!1!==u&&(u||!1),C=(0,i.useRef)(!1),A=(0,i.useRef)(!1);return!A.current&&null!==j.current&&k&&"every"===v&&"post"===b&&(j.current.style.visibility="hidden"),("undefined"!=typeof window?i.useLayoutEffect:i.useEffect)(function(){if((k||!C.current)&&null!==j.current){if(!w)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if("pre"===b){if(!("string"==typeof d&&0<d.length))throw Error("Render mode 'pre' requires text prop to be set and non-empty, which was currently \"".concat(d,'"'));if(!p||!p.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(2===w.version)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}"post"!==b&&d===x.current||A.current||(A.current=!0,3===w.version?w.promise.then(function(e){var n;"pre"===b?(n=function(n){x.current=d,e.startup.document.clear(),e.startup.document.updateDocument(),null!==j.current&&(j.current.innerHTML=n.outerHTML),t()},p.fn.endsWith("Promise")?e.startup.promise.then(function(){return e[y.fn](d,r(r({},(null==y?void 0:y.options)||{}),{display:!l}))}).then(n).catch(function(e){throw t(),Error(a(e))}):e.startup.promise.then(function(){n(e[y.fn](d,r(r({},(null==y?void 0:y.options)||{}),{display:!l})))}).catch(function(e){throw t(),Error(a(e))})):e.startup.promise.then(function(){return e.typesetClear([j.current]),e.typesetPromise([j.current])}).then(t).catch(function(e){throw t(),Error(a(e))})}).catch(function(e){throw t(),Error(a(e))}):w.promise.then(function(e){e.Hub.Queue(["Typeset",e.Hub,j.current]),e.Hub.Queue(t)}).catch(function(e){throw t(),Error(a(e))}))}}),i.createElement("span",r({},g,{style:r(r({display:l?"inline":"block"},g.style),{visibility:v?"hidden":null==(e=g.style)?void 0:e.visibility}),ref:j}),m)}},2784:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>a});var i,o,r=n(2115),s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=(0,r.createContext)(void 0),l="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",h="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js";let c=function(e){var t=e.config,n=e.version,n=void 0===n?3:n,c=e.src,c=void 0===c?2===n?l:h:c,d=e.onStartup,u=e.onLoad,p=e.asyncLoad,f=void 0!==p&&p,m=e.onError,p=e.typesettingOptions,g=e.renderMode,g=void 0===g?"post":g,x=e.hideUntilTypeset,e=e.children,j=(0,r.useContext)(a);if(void 0!==(null==j?void 0:j.version)&&(null==j?void 0:j.version)!==n)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(2===n&&void 0!==o||3===n&&void 0!==i)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var w=(0,r.useRef)(j),j=(0,r.useRef)((null==j?void 0:j.version)||null);if(null===j.current)j.current=n;else if(j.current!==n)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var v=c||(2===n?l:h);function b(e,n){t&&(window.MathJax=t);var i=document.createElement("script");i.type="text/javascript",i.src=v,i.async=f,i.addEventListener("load",function(){var t=window.MathJax;d&&d(t),e(t),u&&u()}),i.addEventListener("error",function(e){return n(e)}),document.getElementsByTagName("head")[0].appendChild(i)}return void 0===w.current&&(j={typesettingOptions:p,renderMode:g,hideUntilTypeset:x},2===n?void 0===i&&("undefined"!=typeof window?(i=new Promise(b)).catch(function(e){if(!m)throw Error("Failed to download MathJax version 2 from '".concat(v,"' due to: ").concat(JSON.stringify(e)));m(e)}):(i=Promise.reject()).catch(function(e){})):void 0===o&&("undefined"!=typeof window?(o=new Promise(b)).catch(function(e){if(!m)throw Error("Failed to download MathJax version 3 from '".concat(v,"' due to: ").concat(e));m(e)}):(o=Promise.reject()).catch(function(e){})),w.current=s(s({},j),2===n?{version:2,promise:i}:{version:3,promise:o})),r.createElement(a.Provider,{value:w.current},e)}},5565:(e,t,n)=>{"use strict";n.d(t,{default:()=>o.a});var i=n(4146),o=n.n(i)},3018:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,i="",o=0,r=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else if(47===n)break;else n=47;if(47===n){if(r===a-1||1===s);else if(r!==a-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",o=0):o=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),r=a,s=0;continue}}else if(2===i.length||1===i.length){i="",o=0,r=a,s=0;continue}}t&&(i.length>0?i+="/..":i="..",o=2)}else i.length>0?i+="/"+e.slice(r+1,a):i=e.slice(r+1,a),o=a-r-1;r=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var e,i,o="",r=!1,s=arguments.length-1;s>=-1&&!r;s--)s>=0?i=arguments[s]:(void 0===e&&(e=""),i=e),t(i),0!==i.length&&(o=i+"/"+o,r=47===i.charCodeAt(0));return(o=n(o,!r),r)?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return(0!==(e=n(e,!i)).length||i||(e="."),e.length>0&&o&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=i.resolve(e))===(n=i.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var r=e.length,s=r-o,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,h=s<l?s:l,c=-1,d=0;d<=h;++d){if(d===h){if(l>h){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>h&&(47===e.charCodeAt(o+d)?c=d:0===d&&(c=0));break}var u=e.charCodeAt(o+d);if(u!==n.charCodeAt(a+d))break;47===u&&(c=d)}var p="";for(d=o+c+1;d<=r;++d)(d===r||47===e.charCodeAt(d))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+c):(a+=c,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),i=47===n,o=-1,r=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!r){o=s;break}}else r=!1;return -1===o?i?"/":".":i&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw TypeError('"ext" argument must be a string');t(e);var i,o=0,r=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(i=e.length-1;i>=0;--i){var h=e.charCodeAt(i);if(47===h){if(!s){o=i+1;break}}else -1===l&&(s=!1,l=i+1),a>=0&&(h===n.charCodeAt(a)?-1==--a&&(r=i):(a=-1,r=l))}return o===r?r=l:-1===r&&(r=e.length),e.slice(o,r)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){o=i+1;break}}else -1===r&&(s=!1,r=i+1);return -1===r?"":e.slice(o,r)},extname:function(e){t(e);for(var n=-1,i=0,o=-1,r=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47===l){if(!r){i=a+1;break}continue}-1===o&&(r=!1,o=a+1),46===l?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return -1===n||-1===o||0===s||1===s&&n===o-1&&n===i+1?"":e.slice(n,o)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){t(e);var n,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var o=e.charCodeAt(0),r=47===o;r?(i.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,h=!0,c=e.length-1,d=0;c>=n;--c){if(47===(o=e.charCodeAt(c))){if(!h){a=c+1;break}continue}-1===l&&(h=!1,l=c+1),46===o?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1)}return -1===s||-1===l||0===d||1===d&&s===l-1&&s===a+1?-1!==l&&(0===a&&r?i.base=i.name=e.slice(1,l):i.base=i.name=e.slice(a,l)):(0===a&&r?(i.name=e.slice(1,s),i.base=e.slice(1,l)):(i.name=e.slice(a,s),i.base=e.slice(a,l)),i.ext=e.slice(s,l)),a>0?i.dir=e.slice(0,a-1):r&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}},s=!0;try{t[e](r,r.exports,i),s=!1}finally{s&&delete n[e]}return r.exports}i.ab="//";var o=i(114);e.exports=o}()},4146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},getImageProps:function(){return a}});let i=n(306),o=n(666),r=n(7970),s=i._(n(5514));function a(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let l=r.Image},8880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(5155),o=n(3018),r=n.n(o),s=n(5565),a=n(2723),l=n(8989),h=n(9727),c=n(1109),d=n(9730);let u=r().join("/projects/ImageProcessing/Project7/","media"),p=[{id:"Creating the Web",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Creating the Web"}),(0,i.jsx)("p",{children:"To get a 3d representation of the image, we can break the scene down into 5 planes (middle, left, bottom, right, top). To do this, we identify a vanishing point along with the corners of the middle plane:"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/web.png"),alt:"sjerome web",width:"1028",height:"680"})})]})},{id:"Computing the Planes",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Computing the Planes"}),(0,i.jsx)("p",{children:"To recover the 2d coordinate points of the planes, we compute all intersections of the web rays with the image border lines. A web ray would be defined as the ray from the vanishing point to one of the corners of the middle plane."}),(0,i.jsx)("p",{children:"We start at one web ray. This ray intersects two lines on the image border. Pick an intersection to append to a running list of intersections arbitrarily. Cycle to the next ray counter clockwise. The next ray will also intersect with two lines on the image border. We append the intersects in the order of which one is closer axis aligned to the previous intersection."}),(0,i.jsx)("p",{children:"After this, we can combine these intersection points with the points in the middle plane to get the 2d points of all the planes:"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/planes.png"),alt:"sjerome planes",width:"760",height:"580"})}),(0,i.jsx)("p",{children:"This image contains also the bounding boxes for the homography which we compute based on 3d correspondences described in the next section."})]})},{id:"3D Correspondences",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"3D Correspondences"}),(0,i.jsx)("p",{children:"To compute the aspect ratios for the homographies, we need to assign every vertex of every plane to a 3d point."}),(0,i.jsx)("p",{children:"We start with assuming that the world coordinates for the bottom plane all have a $z$ component of 0. Then the 3d point assignments are:"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/base3d.svg"),alt:"sjerome base3d points",width:"300",height:"210"})}),(0,i.jsx)("p",{children:"Suppose we now want to calculate the 3d position of the point $p$ labeled in red. Then we can use the quadrilateral bisection property which yields perspective consistent ratios along the length of a quadrilateral on iterative diagonal intersections:"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/ratios.svg"),alt:"quad ratios",width:"300",height:"210"})}),(0,i.jsxs)("p",{children:["To apply this, we first instantiate a horizontal line going through $p$. We sort the lines in order from closest to the middle plane to furthest along the given axis and apply the ratio property repeatedly on the containing quadrilateral until a ratio line is sufficiently close to the target line. Now that we have the ratio, if"," ",(0,i.jsx)(d.A,{inline:!0,children:"\\(p\\)"})," was within the bound of the bottom plane, we set the ratio as"," ",(0,i.jsx)(d.A,{inline:!0,children:"\\(1 - r\\)"}),", otherwise, we set the ratio to be ",(0,i.jsx)(d.A,{inline:!0,children:"\\(1/(1 - r)\\)"}),". In this example, suppose"," ",(0,i.jsx)(d.A,{inline:!0,children:"\\(r = 1 / 10\\)"}),". Then we set"," ",(0,i.jsx)(d.A,{inline:!0,children:"\\(r \\leftarrow 1 - r\\)"})," and compute p as",(0,i.jsx)(d.A,{inline:!0,children:"\\begin{equation*} r \\cdot [(1, 0, 0) - (0, 0, 0)] + (0, 0, 0) \\end{equation*}"})]}),(0,i.jsx)("p",{children:"Propagating these ratios and repeating the calculations for all other planes, we can determine the aspect ratios for the rectified homography."})]})},{id:"Homographies",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Homographies"}),(0,i.jsx)("p",{children:"After instantiating the canvases for the homography, we crop each portion of the image and perform a homography locally from each plane onto their corresponding canvases."}),(0,i.jsxs)(a.V,{columns:5,children:[(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/left.png"),alt:"sjerome left",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/bottom.png"),alt:"sjerome bottom",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/right.png"),alt:"sjerome right",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/top.png"),alt:"sjerome top",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/middle.png"),alt:"sjerome middle",loading:"lazy",width:"640",height:"480"})]})]})},{id:"Texture Map",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Texture Map"}),(0,i.jsx)("p",{children:"Now that we have the 3d coordinates of each image, we can do a texture map onto a plane. This is done by instantiating the plane by counter-clockwise oriented points, and setting the origin, u, v vectors for each plane:"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/texture_map.png"),alt:"sjerome texture map",width:"940",height:"690"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/view1.png"),alt:"sjerome view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/view2.png"),alt:"sjerome view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/sjerome/view3.png"),alt:"sjerome view 3",width:"1000",height:"750"})]})]})},{id:"Various Ratios",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Various Aspect Ratios"}),(0,i.jsx)("p",{children:"We can perform this on any image with one point perspective, as long as we can find a good guess for the 3d coordinates of the bottom plane. For this one, I used an $x$ to $y$ ratio of $5$."}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/web.png"),alt:"mainstacks web",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/planes.png"),alt:"mainstacks planes",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:5,children:[(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/left.png"),alt:"mainstacks left",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/bottom.png"),alt:"mainstacks bottom",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/right.png"),alt:"mainstacks right",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/top.png"),alt:"mainstacks top",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/middle.png"),alt:"mainstacks middle",loading:"lazy",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/texture_map.png"),alt:"mainstacks texture map",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/view1.png"),alt:"mainstacks view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/view2.png"),alt:"mainstacks view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/mainstacks/view3.png"),alt:"mainstacks view 3",width:"1000",height:"750"})]}),(0,i.jsx)("p",{children:"Here is another hallway-like mapping:"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/web.png"),alt:"bookshelves web",width:"940",height:"740"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/planes.png"),alt:"bookshelves planes",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:5,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/left.png"),alt:"bookshelves left",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/bottom.png"),alt:"bookshelves bottom",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/right.png"),alt:"bookshelves right",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/top.png"),alt:"bookshelves top",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/middle.png"),alt:"bookshelves middle",loading:"lazy",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/texture_map.png"),alt:"bookshelves texture map",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/view1.png"),alt:"bookshelves view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/view2.png"),alt:"bookshelves view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bookshelves/view3.png"),alt:"bookshelves view 3",width:"1000",height:"750"})]}),(0,i.jsx)("p",{children:"In this example, we see that the method does not do well when the objects in the scene are not planar. The trees and bush are noticeably warped/cut off by the transformations"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bay/web.png"),alt:"bay web",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/planes.png"),alt:"bay planes",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:5,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bay/left.png"),alt:"bay left",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/bottom.png"),alt:"bay bottom",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/right.png"),alt:"bay right",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/top.png"),alt:"bay top",loading:"lazy",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/middle.png"),alt:"bay middle",loading:"lazy",width:"640",height:"480"})]}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/bay/texture_map.png"),alt:"bay texture map",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/view1.png"),alt:"bay view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/view2.png"),alt:"bay view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/bay/view3.png"),alt:"bay view 3",width:"1000",height:"750"})]})]})},{id:"Extending to 2-Point",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Extending to 2-Point Perspective"}),(0,i.jsx)("p",{children:"In the previous experiments, we had the vanishing point close to the center of the imaging plane. But when there is enough of a shift of the vanishing point, we start to see two specific vanishing points which form a vanishing line."}),(0,i.jsx)("p",{children:"We can think of this as two separate one point perspectives to build the web:"}),(0,i.jsxs)(a.V,{children:[(0,i.jsx)(s.default,{src:r().join(u,"/monument/monumentweb1.png"),height:"1000",width:"2500",alt:"monument web 1"}),(0,i.jsx)(s.default,{src:r().join(u,"/monument/monumentweb2.png"),alt:"monument web 2",height:"1000",width:"2500"})]})]})},{id:"Calculating the Planes and 3D Points",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Calculating the Planes and 3D Coordinates"}),(0,i.jsx)("p",{children:"Now that we have our web, we can use the vanishing points to project the inner rectangles in each web outwards. To specifically determine how much we should project each plane outwards, we determine the maximum possible projection such that one of the corners of the planes still lies within the image borders. Although it is possible to choose the minimum as a metric, it can cause the planes to be calculated incorrectly when the perspective lines are close. Choosing the maximum also helps with stability."}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/monument/planes.png"),alt:"monument planes",width:"640",height:"480"})}),(0,i.jsx)("p",{children:"To compute the 3d coordinates of each point, we first establish the ratios of x, y, z such that max(x, y, z) = 1. Then we apply the coordinate estimates to each vertex in the top and bottom planes shown below:"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/monument/baseplanes.png"),alt:"monument base planes",width:"1000",height:"650"})}),(0,i.jsx)("p",{children:"Now that we have the initial coordinates, we can use the same trick with quadrilateral ratios in the previous section to compute the ratio in which we expanded outwards by, and propagate the coordinate estimates across the vertices."})]})},{id:"Mosaics and Final Result",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Mosaics and Final Result"}),(0,i.jsx)("p",{children:"Computing the homography is exactly the same as in the one point perspective images, and at the end, we get two mosaics"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/monument/leftmap.png"),alt:"monument left map",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/monument/rightmap.png"),alt:"monument right map",width:"640",height:"480"})]}),(0,i.jsx)("p",{children:"We remove the one plane from each figure and combine the textures into a 3d representation:"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/monument/texturemap.png"),alt:"monument texture map",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/monument/view1.png"),alt:"monument view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/monument/view2.png"),alt:"monument view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/monument/view3.png"),alt:"monument view 3",width:"1000",height:"750"})]})]})},{id:"Additional Results",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Additional Results"}),(0,i.jsx)("p",{children:"Here is another 2-point perspective representation with a photo of Doe Library instead:"}),(0,i.jsx)("h3",{children:"Web"}),(0,i.jsxs)(a.V,{children:[(0,i.jsx)(s.default,{src:r().join(u,"/doe/doeweb1.png"),alt:"doe web 1",width:"2400",height:"770"}),(0,i.jsx)(s.default,{src:r().join(u,"/doe/doeweb2.png"),alt:"doe web 2",width:"2400",height:"770"})]}),(0,i.jsx)("h3",{children:"Planes"}),(0,i.jsx)(a.V,{children:(0,i.jsx)(s.default,{src:r().join(u,"/doe/planes.png"),alt:"doe planes",width:"640",height:"480"})}),(0,i.jsx)("h3",{children:"Left, Right Maps"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/doe/leftmap.png"),alt:"doe left map",width:"640",height:"480"}),(0,i.jsx)(s.default,{src:r().join(u,"/doe/rightmap.png"),alt:"doe right map",width:"640",height:"480"})]}),(0,i.jsx)("h3",{children:"Texture Maps"}),(0,i.jsxs)(a.V,{columns:2,children:[(0,i.jsx)(s.default,{src:r().join(u,"/doe/texturemap.png"),alt:"doe texture map",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/doe/view1.png"),alt:"doe view 1",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/doe/view2.png"),alt:"doe view 2",width:"1000",height:"750"}),(0,i.jsx)(s.default,{src:r().join(u,"/doe/view3.png"),alt:"doe view 3",width:"1000",height:"750"})]})]})}];function f(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.l,{children:(0,i.jsx)("h1",{children:"Project 7: Tour into the Picture"})}),(0,i.jsx)(h.LN,{children:(0,i.jsxs)(h.J3,{children:[(0,i.jsx)(h.nA,{children:p.map(e=>(0,i.jsx)(h.wn,{children:(0,i.jsx)(h.n9,{id:e.id,link:e.link,children:e.content})},e.id))}),(0,i.jsx)(c.B,{ids:p.map(e=>e.id)})]})})]})}},8989:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var i=n(5155);let o=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"text-center text-black p-20 row-span-2 row-start-1 row-end-2 flex flex-col flex-nowrap justify-center items-center w-full",children:t})}},9727:(e,t,n)=>{"use strict";n.d(t,{J3:()=>d,LN:()=>u,n9:()=>l,nA:()=>h,wn:()=>c});var i=n(5155),o=n(8173),r=n.n(o),s=n(9795);let a=(e,t)=>(0,i.jsx)(r(),{href:e,className:"z-10 block absolute top-0 ".concat(t?"":"max-w-[95%]"," w-full h-full bg-black rounded-2xl text-white ").concat(t?"hover:scale-x-105 hover:translate-x-[2%]  hover:translate-y-[4%]":"hover:translate-x-[2%]"," transform ease-in-out duration-200"),children:(0,i.jsx)("div",{className:"flex flex-row w-full h-full items-center justify-end ",children:(0,i.jsx)("div",{className:"w-[8%]",children:"➧"})})}),l=e=>{let{id:t,link:n,orientation:o,className:r,children:l}=e;return(0,i.jsxs)("div",{className:"h-fit",children:[(0,i.jsx)("article",{className:(0,s.QP)("relative z-50 m-0 p-8 text-left ".concat(o?"max-h-[90%] w-full":"max-w-[85%] h-full"," ").concat(n?"":"max-w-[100%]"," h-fit rounded-2xl bg-white text-black ").concat(r)),id:t,children:l}),n?a(n,o):""]})},h=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex flex-col flex-grow max-w-[60rem]",children:t})},c=e=>{let{children:t,className:n}=e;return(0,i.jsx)("section",{className:(0,s.QP)("mb-8 mx-[5vw] rounded-[1rem] shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-fit relative bg-red ".concat(n)),children:t})},d=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex flex-row flex-nowrap justify-center relative",children:t})},u=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"mx-[5vw]",children:t})}},2723:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,V:()=>a});var i=n(5155),o=n(2115),r=n(9795);let s=e=>{let{children:t,className:n}=e;return(0,i.jsx)("figure",{className:"text-center ".concat(n),children:o.Children.map(t,e=>o.isValidElement(e)&&"string"!=typeof e.type?o.cloneElement(e,{className:(0,r.QP)(e.props.className,"w-full text-center")}):e)})},a=e=>{let{columns:t=1,className:n,children:s}=e;return(0,i.jsx)("div",{className:(0,r.QP)("grid ".concat(["grid-cols-0","grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8"][t]," gap-4 items-center justify-center w-full max-w-[90%] mx-auto py-4 ").concat(n," ")),children:o.Children.map(s,e=>o.isValidElement(e)&&"string"!=typeof e.type?o.cloneElement(e,{className:(0,r.QP)(e.props.className,"w-full")}):e)})}},1109:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(5155);let o=e=>{let{ids:t,children:n}=e;return(0,i.jsx)("div",{className:"block flex-grow max-w-[25%]",children:(0,i.jsxs)("div",{className:"max-w-[80%] mx-auto h-full",children:[n,t?(0,i.jsx)("div",{className:"sticky top-[20%] p-4 pl-6 border-1 border-black border-solid rounded-[1rem] bg-black shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-auto  max-h-[60vh] overflow-y-auto ",children:(0,i.jsx)("nav",{children:t.map(e=>(0,i.jsx)("ul",{children:(0,i.jsx)("a",{className:"block scale-90 hover:text-slate-300 transition-transform  duration-100 ease-in-out text-[1.1rem] hover:scale-100 focus:scale-100 ",href:"#".concat(e),children:e})},e))})}):(0,i.jsx)("div",{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,795,970,441,517,358],()=>t(5531)),_N_E=e.O()}]);