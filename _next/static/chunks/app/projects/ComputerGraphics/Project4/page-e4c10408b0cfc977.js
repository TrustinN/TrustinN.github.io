(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{8074:(e,t,n)=>{Promise.resolve().then(n.bind(n,6105))},9730:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(2115),r=n(2784),o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},a=function(e){return"Typesetting failed: ".concat(void 0!==e.message?e.message:JSON.stringify(e))};let l=function(e){function t(){var e;"every"===w&&A&&"post"===b&&null!==v.current&&(v.current.style.visibility=null!=(e=null==(e=g.style)?void 0:e.visibility)?e:"visible"),_.current||("first"===w&&null!==v.current&&(v.current.style.visibility="visible"),h&&h(),_.current=!0),c&&c(),k.current=!1}var n=e.inline,l=void 0!==n&&n,n=e.hideUntilTypeset,h=e.onInitTypeset,c=e.onTypeset,d=e.text,p=e.dynamic,u=e.typesettingOptions,f=e.renderMode,m=e.children,g=s(e,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),x=(0,i.useRef)(""),v=(0,i.useRef)(null),j=(0,i.useContext)(r.k),w=null!=n?n:null==j?void 0:j.hideUntilTypeset,b=null!=f?f:null==j?void 0:j.renderMode,y=null!=u?u:null==j?void 0:j.typesettingOptions,A=!1!==p&&(p||!1),_=(0,i.useRef)(!1),k=(0,i.useRef)(!1);return!k.current&&null!==v.current&&A&&"every"===w&&"post"===b&&(v.current.style.visibility="hidden"),("undefined"!=typeof window?i.useLayoutEffect:i.useEffect)(function(){if((A||!_.current)&&null!==v.current){if(!j)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if("pre"===b){if(!("string"==typeof d&&0<d.length))throw Error("Render mode 'pre' requires text prop to be set and non-empty, which was currently \"".concat(d,'"'));if(!u||!u.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(2===j.version)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}"post"!==b&&d===x.current||k.current||(k.current=!0,3===j.version?j.promise.then(function(e){var n;"pre"===b?(n=function(n){x.current=d,e.startup.document.clear(),e.startup.document.updateDocument(),null!==v.current&&(v.current.innerHTML=n.outerHTML),t()},u.fn.endsWith("Promise")?e.startup.promise.then(function(){return e[y.fn](d,o(o({},(null==y?void 0:y.options)||{}),{display:!l}))}).then(n).catch(function(e){throw t(),Error(a(e))}):e.startup.promise.then(function(){n(e[y.fn](d,o(o({},(null==y?void 0:y.options)||{}),{display:!l})))}).catch(function(e){throw t(),Error(a(e))})):e.startup.promise.then(function(){return e.typesetClear([v.current]),e.typesetPromise([v.current])}).then(t).catch(function(e){throw t(),Error(a(e))})}).catch(function(e){throw t(),Error(a(e))}):j.promise.then(function(e){e.Hub.Queue(["Typeset",e.Hub,v.current]),e.Hub.Queue(t)}).catch(function(e){throw t(),Error(a(e))}))}}),i.createElement("span",o({},g,{style:o(o({display:l?"inline":"block"},g.style),{visibility:w?"hidden":null==(e=g.style)?void 0:e.visibility}),ref:v}),m)}},2784:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>a});var i,r,o=n(2115),s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=(0,o.createContext)(void 0),l="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",h="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js";let c=function(e){var t=e.config,n=e.version,n=void 0===n?3:n,c=e.src,c=void 0===c?2===n?l:h:c,d=e.onStartup,p=e.onLoad,u=e.asyncLoad,f=void 0!==u&&u,m=e.onError,u=e.typesettingOptions,g=e.renderMode,g=void 0===g?"post":g,x=e.hideUntilTypeset,e=e.children,v=(0,o.useContext)(a);if(void 0!==(null==v?void 0:v.version)&&(null==v?void 0:v.version)!==n)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(2===n&&void 0!==r||3===n&&void 0!==i)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var j=(0,o.useRef)(v),v=(0,o.useRef)((null==v?void 0:v.version)||null);if(null===v.current)v.current=n;else if(v.current!==n)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var w=c||(2===n?l:h);function b(e,n){t&&(window.MathJax=t);var i=document.createElement("script");i.type="text/javascript",i.src=w,i.async=f,i.addEventListener("load",function(){var t=window.MathJax;d&&d(t),e(t),p&&p()}),i.addEventListener("error",function(e){return n(e)}),document.getElementsByTagName("head")[0].appendChild(i)}return void 0===j.current&&(v={typesettingOptions:u,renderMode:g,hideUntilTypeset:x},2===n?void 0===i&&("undefined"!=typeof window?(i=new Promise(b)).catch(function(e){if(!m)throw Error("Failed to download MathJax version 2 from '".concat(w,"' due to: ").concat(JSON.stringify(e)));m(e)}):(i=Promise.reject()).catch(function(e){})):void 0===r&&("undefined"!=typeof window?(r=new Promise(b)).catch(function(e){if(!m)throw Error("Failed to download MathJax version 3 from '".concat(w,"' due to: ").concat(e));m(e)}):(r=Promise.reject()).catch(function(e){})),j.current=s(s({},v),2===n?{version:2,promise:i}:{version:3,promise:r})),o.createElement(a.Provider,{value:j.current},e)}},5565:(e,t,n)=>{"use strict";n.d(t,{default:()=>r.a});var i=n(4146),r=n.n(i)},3018:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,i="",r=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else if(47===n)break;else n=47;if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",r=0):r=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,o=a,s=0;continue}}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),r=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var e,i,r="",o=!1,s=arguments.length-1;s>=-1&&!o;s--)s>=0?i=arguments[s]:(void 0===e&&(e=""),i=e),t(i),0!==i.length&&(r=i+"/"+r,o=47===i.charCodeAt(0));return(r=n(r,!o),o)?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return(0!==(e=n(e,!i)).length||i||(e="."),e.length>0&&r&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];t(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=i.resolve(e))===(n=i.resolve(n)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,s=o-r,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,h=s<l?s:l,c=-1,d=0;d<=h;++d){if(d===h){if(l>h){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>h&&(47===e.charCodeAt(r+d)?c=d:0===d&&(c=0));break}var p=e.charCodeAt(r+d);if(p!==n.charCodeAt(a+d))break;47===p&&(c=d)}var u="";for(d=r+c+1;d<=o;++d)(d===o||47===e.charCodeAt(d))&&(0===u.length?u+="..":u+="/..");return u.length>0?u+n.slice(a+c):(a+=c,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),i=47===n,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return -1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw TypeError('"ext" argument must be a string');t(e);var i,r=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(i=e.length-1;i>=0;--i){var h=e.charCodeAt(i);if(47===h){if(!s){r=i+1;break}}else -1===l&&(s=!1,l=i+1),a>=0&&(h===n.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=l))}return r===o?o=l:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){r=i+1;break}}else -1===o&&(s=!1,o=i+1);return -1===o?"":e.slice(r,o)},extname:function(e){t(e);for(var n=-1,i=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47===l){if(!o){i=a+1;break}continue}-1===r&&(o=!1,r=a+1),46===l?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return -1===n||-1===r||0===s||1===s&&n===r-1&&n===i+1?"":e.slice(n,r)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){t(e);var n,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var r=e.charCodeAt(0),o=47===r;o?(i.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,h=!0,c=e.length-1,d=0;c>=n;--c){if(47===(r=e.charCodeAt(c))){if(!h){a=c+1;break}continue}-1===l&&(h=!1,l=c+1),46===r?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1)}return -1===s||-1===l||0===d||1===d&&s===l-1&&s===a+1?-1!==l&&(0===a&&o?i.base=i.name=e.slice(1,l):i.base=i.name=e.slice(a,l)):(0===a&&o?(i.name=e.slice(1,s),i.base=e.slice(1,l)):(i.name=e.slice(a,s),i.base=e.slice(a,l)),i.ext=e.slice(s,l)),a>0?i.dir=e.slice(0,a-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,i),s=!1}finally{s&&delete n[e]}return o.exports}i.ab="//";var r=i(114);e.exports=r}()},4146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},getImageProps:function(){return a}});let i=n(306),r=n(666),o=n(7970),s=i._(n(5514));function a(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let l=o.Image},6105:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(5155),r=n(3018),o=n.n(r),s=n(8989),a=n(9727),l=n(2723),h=n(5565),c=n(9730),d=n(1109);let p=o().join("/projects/ComputerGraphics/Project4","media"),u=[{id:"Overview",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:" Overview "}),(0,i.jsx)("p",{children:"In this assignment, I learned about how the mass, spring equations can be used to model structural, shearing, and bending forces on a cloth. Two interesting things was how we can hash a given point into a bin given a subdivision of the space, as an alternative to using a bvh to find collisions, and how shaders can be used to add texture to objects."})]})},{id:"Masses and Springs",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:" Masses and Springs"}),(0,i.jsxs)("p",{children:["For the implementation, I did a double for loop over the number of points along the width and height. Then we can do a bounds check to see if we can add a spring corresponding to the given forces:",(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"The structural forces on the cloth are given as a spring from a point mass to the point mass above as well as one to the left."}),"The shearing forces on the cloth are given as a spring from a point mass to the upper left and upper right.",(0,i.jsx)("li",{}),(0,i.jsx)("li",{children:"The bending forces on the cloth are given as a spring from a point mass to the point mass two above as well as one two away on the left."})]}),"For the following images, st represents structural springs, sh for shearing, and bd for bending:"]}),(0,i.jsx)(l.V,{columns:3,children:["st+sh+bd","st+bd","sh"].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part1/pinned2_".concat(e,".png")),width:2048,height:1600,alt:"Cloth pinned at two points with ".concat(e," forces")}),(0,i.jsxs)("figcaption",{children:[" Spring types: ",e]})]},e))})]})},{id:"Simulation",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Simulation "}),(0,i.jsxs)("p",{children:["To simulate the forces on the cloth, we first initialize the total force on each point mass to be the sum of",(0,i.jsx)(c.A,{inline:!0,children:"\\(F = m \\cdot a\\)"})," where"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(a\\)"})," is a given acceleration in a list of external accelerations. Next, we loop over each spring, and calculate the magnitude of the force:",(0,i.jsx)(c.A,{inline:!0,children:"\\begin{equation*} F_{s} = k_{s} \\cdot (\\lVert p_{a} - p_{b} \\rVert - l) \\end{equation*} "}),"Then the force of the spring on"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(p_{a}\\)"})," would be a vector in the direction of ",(0,i.jsx)(c.A,{inline:!0,children:"\\(p_{b}\\)"})," of magnitude ",(0,i.jsx)(c.A,{inline:!0,children:"\\(F_s\\)"}),"."]}),(0,i.jsx)("p",{children:"Here is what the cloth looks like when we add these forces:"}),(0,i.jsxs)(l.V,{columns:2,children:[(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part2/pinned4.png"),width:2048,height:1600,alt:"Cloth resting state when pinned at four corners"}),(0,i.jsx)("figcaption",{children:"Cloth pinned at 4 corners"})]}),(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part2/pinned2.png"),width:2048,height:1600,alt:"Cloth resting state when pinned at two corners"}),(0,i.jsx)("figcaption",{children:"Cloth pinned at 2 corners"})]})]}),(0,i.jsx)("p",{children:"The following images illustrate how varying the parameters of the cloth can affect the cloth:"}),(0,i.jsx)(l.V,{columns:3,children:Array.from({length:9},(e,t)=>t).map(e=>{let t=["500","5000","50000"][0==Math.floor(e/3)?e%3:1],n=["5","15","45"][1==Math.floor(e/3)?(e-3)%3:1],r=[".0",".2","1"][2==Math.floor(e/3)?(e-6)%3:1],s="ks_".concat(t,"+density_").concat(n,"+damp_").concat(r);return(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part2/sphere_".concat(s,".png")),width:2048,height:1600,alt:"Sphere, cloth collision with ks = ".concat(t,", density = ").concat(n,", damping = ").concat(r)}),(0,i.jsxs)("figcaption",{children:[(0,i.jsx)(c.A,{inline:!0,children:"\\(K_s\\)"}),"= ",t,", Density = ",n," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(\\frac{g}{m^2}\\)"}),", Damping = ",r,"%"]})]},e)})}),(0,i.jsxs)("p",{children:["I noticed that as the spring constant increases, the cloth became stiffer where a spring constant of"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(50000\\)"})," made the cloth resistant to folding. A higher density had a similar but inverse effect. Finally, decreasing the damping of the cloth made the collision with the sphere stronger. For the change in damping, the images were captured as the edges of the cloth were falling, and in the low damping picture, the cloth springs back up while for high damping, the cloth drapes down softly."]})]})},{id:"Collisions with Spheres and Planes",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Collisions with Spheres and Planes "}),(0,i.jsx)("p",{children:"For collisions with spheres, we calculate if the new position of the point mass is within the radius distance from the sphere's origin. If the new position is inside the sphere, we move along the origin-point mass ray to bump the position to the surface of the sphere. Adding in friction, this corrects the position of the point mass."}),(0,i.jsx)(l.V,{columns:3,children:[500,5e3,5e4].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part3/sphere_ks_".concat(e,".png")),width:2048,height:1600,alt:"Sphere collision with ks = ".concat(e)}),(0,i.jsxs)("figcaption",{children:[" ",(0,i.jsx)(c.A,{inline:!0,children:"\\(K_s\\)"})," = ",e]})]},e))}),(0,i.jsx)("p",{children:"From the images, a higher spring constant makes the cloth stiffer and more resistant to folding. This makes sense as a higher spring constant means the spring pulls the point masses together with greater force."}),(0,i.jsxs)("p",{children:["For collisions with a plane, we check if the new position of the point mass is on the same side as that of the last position of the point mass. This is done using the check that:",(0,i.jsx)(c.A,{children:" \\begin{equation*} (pm.pos - plane.p) \\cdot n * (pm.lastpos - plane.p) \\cdot n <= 0 \\end{equation*} "}),"If the path intersects the plane object, we calculate the intersection which becomes the corrected position of the point mass."]}),(0,i.jsx)(l.V,{className:"max-w-[35rem]",children:(0,i.jsx)(l.D,{children:(0,i.jsx)(h.default,{src:o().join(p,"part3/plane.png"),width:2048,height:1600,alt:"Plane collision"})})})]})},{id:"Self Collisions",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Self Collisions"}),(0,i.jsxs)("p",{children:["We would only need to correct for collision of the cloth with itself if the point mass is within"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(2 \\cdot thickness\\)"})," where"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(thickness\\)"})," is the thickness of the cloth. In fixing the position at the collision, we would move along the ray joining the two point masses and set the new position of the point to be"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(2 \\cdot thickness\\)"})," away from the other point mass."]}),(0,i.jsx)(l.V,{columns:3,children:["start","mid","end"].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part4/self_collide_".concat(e,".png")),width:2048,height:1600,alt:"Self-collision at step: ".concat(e)}),(0,i.jsxs)("figcaption",{children:["Time: ",e]})]},e))}),(0,i.jsx)("p",{children:"Varying the density of the cloth, a higher density tends to the leave the bottom of the cloth more scrunched up with the plane:"}),(0,i.jsx)(l.V,{columns:3,children:["5","15","45"].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part4/self_collide_density_".concat(e,".png")),width:2048,height:1600,alt:"Self-collision with density set to ".concat(e)}),(0,i.jsxs)("figcaption",{children:["Density: ",e," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(\\frac{g}{m^2}\\)"})]})]},e))}),(0,i.jsx)("p",{children:"As for the spring constant, a higher spring constant makes the cloth more resistant to wrinkling:"}),(0,i.jsx)(l.V,{columns:3,children:[500,5e3,5e4].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part4/self_collide_ks_".concat(e,".png")),width:2048,height:1600,alt:"Self-collision with ks set to ".concat(e)}),(0,i.jsxs)("figcaption",{children:[(0,i.jsx)(c.A,{inline:!0,children:"\\(K_s\\)"}),": ",e]})]},e))})]})},{id:"Shaders",content:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:" Shaders "}),(0,i.jsx)("p",{children:"Shaders run parallel to the simulation program and are composed of two parts called the vertex shader and fragment shader. The vertex shader modifies the normals and position of a vertex to set its final position and as input for the fragment shader. The fragment shader computes the color at a vertex to get the final color. The output of both are interpolated in the mesh to color the object."}),(0,i.jsx)("h3",{children:"Blinn-Phong Shading"}),(0,i.jsxs)("p",{children:["In Blinn-Phong Shading, there are three components: diffuse lighting, ambient lighting, and specular highlights. Ambient lighting is given by the base color of the object:",(0,i.jsx)(c.A,{children:"\\begin{equation*} L_a = c \\cdot k_s \\cdot I_a \\end{equation*}"}),"Diffuse lighting is given by the luminance from the object as a function of the light position and the angle of the surface:",(0,i.jsx)(c.A,{children:"\\begin{equation*} L_d = c \\cdot k_d (I / r^2) \\max{n \\cdot l, 0} \\end{equation*}"}),"Where ",(0,i.jsx)(c.A,{inline:!0,children:"\\(l\\)"})," is the unit vector in the direction of light from the surface point. Finally, specular highlights are given by:",(0,i.jsx)(c.A,{children:"\\begin{equation*} L_s = c \\cdot k_s (I / r^2) \\max{n \\cdot h, 0}^p\\end{equation*}"})]}),(0,i.jsx)(l.V,{columns:2,children:["ambient","diffuse","specular","all"].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{src:o().join(p,"part5/blinn-phong_".concat(e,".png")),width:2048,height:1600,alt:"Blinn-Phong shading with ".concat(e)}),(0,i.jsx)("figcaption",{children:"Lighting: ".concat(e)})]},e))}),(0,i.jsxs)("p",{children:["For the ambient lighting, I used the values:"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(k_a = 1., I_a = (.2, .2, .2)\\)"}),". For diffuse lighting, I used"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(k_d = .7\\)"}),", and finally, for specular, I used"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(k_s = .5, p = 5\\)"}),"."]}),(0,i.jsx)("h3",{children:"Texture Mapping"}),(0,i.jsxs)("p",{children:["For the texture mapping, we are given a"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(uv\\)"}),"-coordinate in the frag file and can call the texture function to sample from the texture. The output of this function is the color of the vertex."]}),(0,i.jsx)(l.V,{className:"max-w-[35rem]",children:(0,i.jsx)(h.default,{src:o().join(p,"part5/texture.png"),width:2048,height:1600,alt:"Cloth with texture mapping shader"})}),(0,i.jsx)("h3",{children:"Bump Mapping"}),(0,i.jsxs)("p",{children:["In bump mapping, we compute the height of a vertex by a function given the ",(0,i.jsx)(c.A,{inline:!0,children:"\\(uv\\)"}),"-coordinates"," ",(0,i.jsx)(c.A,{inline:!0,children:"\\(h(u, v)\\)"}),". To recompute the normal of the vertex given the height, we compute the change in height wrt to ",(0,i.jsx)(c.A,{inline:!0,children:"\\(du, dv\\)"})," given as:",(0,i.jsx)(c.A,{inline:!0,children:"\\begin{align*} dU &= (h(u + 1 / w, v) - h(u, v)) \\cdot k_{h} \\cdot h_{k} \\\\ dV &= (h(u, v + 1 / h) - h(u, v)) \\cdot k_{h} \\cdot k_{n}   \\end{align*} "}),"Where ",(0,i.jsx)(c.A,{inline:!0,children:"\\(k_h, k_n\\)"})," are scaling factors for the height and normal respectively. The modified normal is given by a linear combination of the tangent, bitangent, and normal vector to the vertex:",(0,i.jsx)(c.A,{inline:!0,children:"\\begin{equation*} \\begin{bmatrix} \\mid    & \\mid    & \\mid    \\\\ \\vec{T} & \\vec{B} & \\vec{N} \\\\ \\mid    & \\mid    & \\mid      \\end{bmatrix} \\begin{bmatrix} -dU \\\\ -dV \\\\ 1     \\end{bmatrix} \\end{equation*} "}),"In the following simulation, I used the fourth texture from the given texture folder"]}),(0,i.jsx)(l.V,{className:"max-w-[35rem]",children:(0,i.jsx)(h.default,{src:o().join(p,"part5/bump.png"),width:2048,height:1600,alt:"Cloth with bump mapping shader"})}),(0,i.jsx)(l.V,{columns:2,children:[16,128].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part5/bump".concat(e,".png")),width:2048,height:1600,alt:"Bump mapping with sphere coarseness = ".concat(e)}),(0,i.jsxs)("figcaption",{children:["Bump coarseness: ",e]})]},e))}),(0,i.jsx)("p",{children:"From the images above, a lower coarseness makes the bump mapping less jagged and more consistent. In the picture where the coarseness is set to 16, the surface of the sphere is not as smooth, so the bump mapping gets messed up."}),(0,i.jsx)("h3",{children:"Displacement Mapping"}),(0,i.jsxs)("p",{children:["Displacement mapping adds on to bump mapping in that we modify the vertex' position by the recomputed normal. The new position is given by:",(0,i.jsx)(c.A,{inline:!0,children:"\\begin{equation*} p^{\\prime} = p + n \\cdot h(u, v) \\cdot k_{h} \\end{equation*}"}),"In the following simulation, I used the fourth texture from the given texture folder"]}),(0,i.jsx)(l.V,{className:"max-w-[35rem]",children:(0,i.jsx)(h.default,{src:o().join(p,"part5/displacement.png"),width:2048,height:1600,alt:"Cloth with displacement mapping shader"})}),(0,i.jsx)("p",{children:" Here is an adjustment of the coarseness of the sphere mesh: "}),(0,i.jsx)(l.V,{columns:2,children:[16,128].map(e=>(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part5/displacement".concat(e,".png")),width:2048,height:1600,alt:"Displacement mapping with sphere coarseness = ".concat(e)}),(0,i.jsxs)("figcaption",{children:["Displacement coarseness: ",e]})]},e))}),(0,i.jsx)("p",{children:"For the sphere mesh on the right with more points, the indentation on the sphere at certain squares is more visible, and we can see this when looking at the silhouette of the sphere. With the more coarse mesh, the indentation is lost and the surface is less detailed. Hover over the images to zoom-in."}),(0,i.jsx)("h3",{children:" Bump/Displacement Mapping Comparison"}),(0,i.jsx)("p",{children:"I would say that bump mapping is more effective than displacement mapping for applying texture, because the vertex positions are not very consistent with the height map. In the displacement image, the silhouette of the object contains a straight edges compared to that of the rounded one in the bump mapping."}),(0,i.jsx)("h3",{children:"Mirror Shader"}),(0,i.jsxs)("p",{children:["The mirror shader uses a cube map to get the color that is reflected on the surface from the environment. The ray is cast from the camera, and to get the incident ray, we first compute the projection vector of the camera ray ",(0,i.jsx)(c.A,{inline:!0,children:"\\(r_c\\)"})," onto the vertex normal ",(0,i.jsx)(c.A,{inline:!0,children:"\\(\\vec{n}\\)"})," and add it scaled by a factor of 2 to our camera ray:",(0,i.jsx)(c.A,{inline:!0,children:"\\begin{equation*} w_o = 2\\cdot \\text{proj}_{r_{c}}(\\vec{n}) + r_{c} \\end{equation*} "}),"Then we can sample the cube map given the direction vector to get the color of the vertex."]}),(0,i.jsxs)(l.V,{columns:2,children:[(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part5/mirror_ball.png"),width:2048,height:1600,alt:"Mirror ball"}),(0,i.jsx)("figcaption",{children:"Mirror Ball"})]}),(0,i.jsxs)(l.D,{children:[(0,i.jsx)(h.default,{className:"zoom-in",src:o().join(p,"part5/mirror_cloth.png"),width:2048,height:1600,alt:"Mirror cloth with sphere collision"}),(0,i.jsx)("figcaption",{children:"Mirror Cloth"})]})]})]})}];function f(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(s.l,{children:[(0,i.jsx)("h1",{children:"Project 4: Cloth Simulation"}),(0,i.jsx)("p",{children:"(https://trustinn.github.io/projects/ComputerGraphics/Project4)"})]}),(0,i.jsx)(a.LN,{children:(0,i.jsxs)(a.J3,{children:[(0,i.jsx)(a.nA,{children:u.map(e=>(0,i.jsx)(a.wn,{children:(0,i.jsx)(a.n9,{id:e.id,link:e.link,children:e.content})},e.id))}),(0,i.jsx)(d.B,{ids:u.map(e=>e.id)})]})})]})}},8989:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(5155);let r=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"text-center text-black p-20 row-span-2 row-start-1 row-end-2 flex flex-col flex-nowrap justify-center items-center w-full",children:t})}},9727:(e,t,n)=>{"use strict";n.d(t,{J3:()=>d,LN:()=>p,n9:()=>l,nA:()=>h,wn:()=>c});var i=n(5155),r=n(8173),o=n.n(r),s=n(9795);let a=(e,t)=>(0,i.jsx)(o(),{href:e,className:"z-10 block absolute top-0 ".concat(t?"":"max-w-[95%]"," w-full h-full bg-black rounded-2xl text-white ").concat(t?"hover:scale-x-105 hover:translate-x-[2%]  hover:translate-y-[4%]":"hover:translate-x-[2%]"," transform ease-in-out duration-200"),children:(0,i.jsx)("div",{className:"flex flex-row w-full h-full items-center justify-end ",children:(0,i.jsx)("div",{className:"w-[8%]",children:"âž§"})})}),l=e=>{let{id:t,link:n,orientation:r,className:o,children:l}=e;return(0,i.jsxs)("div",{className:"h-fit",children:[(0,i.jsx)("article",{className:(0,s.QP)("relative z-50 m-0 p-8 text-left ".concat(r?"max-h-[90%] w-full":"max-w-[85%] h-full"," ").concat(n?"":"max-w-[100%]"," h-fit rounded-2xl bg-white text-black ").concat(o)),id:t,children:l}),n?a(n,r):""]})},h=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex flex-col flex-grow max-w-[60rem]",children:t})},c=e=>{let{children:t,className:n}=e;return(0,i.jsx)("section",{className:(0,s.QP)("mb-8 mx-[5vw] rounded-[1rem] shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-fit relative bg-red ".concat(n)),children:t})},d=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex flex-row flex-nowrap justify-center relative",children:t})},p=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"mx-[5vw]",children:t})}},2723:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,V:()=>a});var i=n(5155),r=n(2115),o=n(9795);let s=e=>{let{children:t,className:n}=e;return(0,i.jsx)("figure",{className:"text-center ".concat(n),children:r.Children.map(t,e=>r.isValidElement(e)&&"string"!=typeof e.type?r.cloneElement(e,{className:(0,o.QP)(e.props.className,"w-full text-center")}):e)})},a=e=>{let{columns:t=1,className:n,children:s}=e;return(0,i.jsx)("div",{className:(0,o.QP)("grid ".concat(["grid-cols-0","grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8"][t]," gap-4 items-center justify-center w-full max-w-[90%] mx-auto py-4 ").concat(n," ")),children:r.Children.map(s,e=>r.isValidElement(e)&&"string"!=typeof e.type?r.cloneElement(e,{className:(0,o.QP)(e.props.className,"w-full")}):e)})}},1109:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(5155);let r=e=>{let{ids:t,children:n}=e;return(0,i.jsx)("div",{className:"block flex-grow max-w-[25%]",children:(0,i.jsxs)("div",{className:"max-w-[80%] mx-auto h-full",children:[n,t?(0,i.jsx)("div",{className:"sticky top-[20%] p-4 pl-6 border-1 border-black border-solid rounded-[1rem] bg-black shadow-[0px_5px_15px_rgba(0,0,0,0.35)] h-auto  max-h-[60vh] overflow-y-auto ",children:(0,i.jsx)("nav",{children:t.map(e=>(0,i.jsx)("ul",{children:(0,i.jsx)("a",{className:"block scale-90 hover:text-slate-300 transition-transform  duration-100 ease-in-out text-[1.1rem] hover:scale-100 focus:scale-100 ",href:"#".concat(e),children:e})},e))})}):(0,i.jsx)("div",{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,795,970,441,517,358],()=>t(8074)),_N_E=e.O()}]);